<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="AdminEtcMapper">

<select id="noReply" resultType="M_BoardVO">
SELECT A.NUM, MSELECT, TITLE, ID, MIN_DATE, (SELECT COUNT(NUM) FROM MINWON_REP WHERE A.NUM=MNUM) AS re_cnt 
FROM MINWON A
WHERE A.NUM NOT IN (SELECT MNUM FROM MINWON_REP)
ORDER BY NUM DESC
LIMIT #{pageStart}, #{perPageNum}
</select>

<select id="noReplyCount" resultType="int">
SELECT (SELECT COUNT(NUM) FROM MINWON)-(SELECT COUNT(DISTINCT MNUM) FROM MINWON_REP)
</select>

<select id="reply" resultType="M_BoardVO">
SELECT A.NUM, MSELECT, TITLE, ID, MIN_DATE, (SELECT COUNT(NUM) FROM MINWON_REP WHERE A.NUM=MNUM) AS re_cnt 
FROM MINWON A
WHERE A.NUM IN (SELECT MNUM FROM MINWON_REP)
ORDER BY NUM DESC
LIMIT #{pageStart1}, #{perPageNum1}
</select>

<select id="replyCount" resultType="int">
SELECT COUNT(DISTINCT MNUM) FROM MINWON_REP
</select>

</mapper>